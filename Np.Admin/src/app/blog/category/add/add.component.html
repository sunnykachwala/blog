
<div class="main-content">
  <div class="page-header">
    <div class="page-block">
      <div class="row align-items-center">
        <div class="col-auto">
          <!-- Page Title -->
          <div class="page-header-title">
            <h4>
              {{app.Localize('Blog')}}
            </h4>
          </div>
          <!-- Breadcrumbs -->
          <ul class="breadcrumb">
            <li class="breadcrumb-item">
              <a [routerLink]="['/']">
                <i class="fa fa-home me-1"></i>
                {{app.Localize('Home')}}
              </a>
            </li>
            <li class="breadcrumb-item">
              <a [routerLink]="['/blog/post']">
                {{app.Localize('Category')}}
              </a>
            </li>
            <li class="breadcrumb-item">
              {{app.Localize('Add Category')}}
            </li>
          </ul>
        </div>
      </div>

    </div>
  </div>
  <!-- Main Card Body -->
  <div class="card">
    <div class="card-body">
      <nz-card>
        <form nz-form [formGroup]="categoryForm" (ngSubmit)="onSubmit()">
          <nz-form-item>
            <nz-form-label [nzSpan]="4" nzFor="title" nzRequired>Title</nz-form-label>
            <nz-form-control [nzSpan]="8">
              <input nz-input formControlName="title" id="title" />
              <!-- <nz-form-explain *ngIf="categoryForm.get('title')?.errors">Title is required and should be less than 120 characters.</nz-form-explain> -->
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-label [nzSpan]="4" nzFor="details" nzRequired>Details</nz-form-label>
            <nz-form-control [nzSpan]="8">
              <textarea nz-input formControlName="details" id="details"></textarea>
              <!-- <nz-form-explain *ngIf="categoryForm.get('details')?.errors">Details are required and should be less than 300 characters.</nz-form-explain> -->
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-label [nzSpan]="4" nzFor="sourceFile">Source File</nz-form-label>
            <nz-form-control [nzSpan]="8">
              <input type="file" (change)="onFileChange($event)" />
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-label [nzSpan]="4" nzFor="parentCategoryId">Parent Category</nz-form-label>
            <nz-form-control [nzSpan]="8">
              <div class="example-input">
                <input
                  formControlName="parentCategoryId"
                  placeholder="search category"
                  nz-input 
                  (input)="onInput($event)"
                  [nzAutocomplete]="autoCategory"
                  id="'parentCategoryId'"
                />
                <nz-autocomplete [nzDataSource]="categoryList" nzBackfill #autoCategory></nz-autocomplete>
              </div>
              <!-- <nz-select formControlName="parentCategoryId" id="parentCategoryId">
                 Add options here 
              </nz-select> -->
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-label [nzSpan]="4" nzFor="isActive" nzRequired>Is Active</nz-form-label>
            <nz-form-control [nzSpan]="8">
              <nz-switch formControlName="isActive" id="isActive"></nz-switch>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-label [nzSpan]="4" nzFor="displayOrder">Display Order</nz-form-label>
            <nz-form-control [nzSpan]="8">
              <input nz-input type="number" formControlName="displayOrder" id="displayOrder" />
            </nz-form-control>
          </nz-form-item>

           SEO Fields 

          <nz-form-item>
            <nz-form-label [nzSpan]="4" nzFor="keywords">Keywords</nz-form-label>
            <nz-form-control [nzSpan]="8">
              <input nz-input formControlName="keywords" id="keywords" />
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-label [nzSpan]="4" nzFor="metaDescription">Meta Description</nz-form-label>
            <nz-form-control [nzSpan]="8">
              <input nz-input formControlName="metaDescription" id="metaDescription" />
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-label [nzSpan]="4" nzFor="metaTitle">Meta Title</nz-form-label>
            <nz-form-control [nzSpan]="8">
              <input nz-input formControlName="metaTitle" id="metaTitle" />
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-label [nzSpan]="4" nzFor="slug" nzRequired>Slug</nz-form-label>
            <nz-form-control [nzSpan]="8">
              <input nz-input formControlName="slug" id="slug" />
               <label *ngIf="categoryForm.get('slug')?.errors">Slug is required and should be less than 160 characters.</label> 
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-control [nzSpan]="12" nzOffset="4">
              <button nz-button nzType="primary" [disabled]="categoryForm.invalid">Submit</button>
            </nz-form-control>
          </nz-form-item>
        </form>
      </nz-card>
    </div>
  </div>
</div>
